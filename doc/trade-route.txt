TODO:

  * The way that the OG loads cargo is according to market value.
    It looks at all the goods to load and it iterates through
    them and finds the most valuable one, multiplying market sell
    price*quantity (quantity can be > 100), then it loads 100 of
    the one that had the max value (or less than 100 if there is
    less). If there are multiple goods tied for the max value
    then it will take the one furthest to the right. Then it re-
    peats this until it cannot load any further, which in this
    case is equivalent to all slots being filled or partially
    filled, since it should never be necessary to add more to a
    previous slot on a subsequent iteration.

    Not sure yet if we want to replicate this... maybe we can
    have an option to either keep that behavior or have an alter-
    nate behavior where we try to divide the cargo space equally
    among the goods that need to be moved, irrespective of market
    prices.

  * NOTE: the auto load algo used for trade routes seems to ap-
    pears to behave slightly differently from the "auto load"
    feature in the colony that happens when you press 'L', though
    they seem similar. Need to investigate how the latter works.
    Indications are that it loads the commodity with the largest
    market value but where the quantity is capped at 100.

  * When a wagon train cannot find a path to its next stop it
    will clear its orders. That said, the wagon train will go as
    far as it can before doing this.

  * Wagon trains need to end their turn when entering a colony.

  * Add trade_route to unit orders.

  * Enable Trade Route menu item in orders menu.

  * Add 't' key to land view input.

  * Note that the trade route edit screen allows editing the
    name.

  * When the player manually loads into a wagon train in the
    colony view, its orders clear.

  * In the editor screen, for land routes, the first stop defines
    the continent, then it will only allow selecting other
    colonies on that same continent, and we should probably
    replicate this. That said, in the menus that appear when cre-
    ating a new trade route, it will allow selecting two colonies
    on different continents for a land route, which is probably a
    bug.

  * The editor screen will avoid inland colonies for sea routes
    and will avoid cross continent colonies for land routes.

  * Note that the OG allows a trade route with one stop, which
    could be useful for just continuing to load stuff. However it
    does not allow a trade route with zero stops, so we probably
    shouldn't allow that as well, since it would have no purpose
    and would make things more complicated when converting sav
    files.

  * Need to allow for the player editing the map, which could put
    colonies within a given trade route on different continents.

  * When the wagon train lands in a colony, it does not do its
    loading/unloading until the start of the next turn.

  * When a unit starts a trade route, the gui allows selecting
    the starting location.

  * When creating a sea trade route, the harbor is among the
    available stops. However, second-stop menu does not include
    it, but probably should. In the OG it can be added in the
    trade route editing screen.

  * Need to support the fact that a trade route can be edited
    while there are units carrying it out.

  * Need to make sure that transacting in the harbor while on a
    trade route respects boycotts.

  * Need to ensure that if a ship is in the harbor carrying out a
    trade route and either the trade route gets deleted, or its
    next stop gets deleted (possibly leaving only the harbor in
    the list) that it does the right thing.

  * When a ship arrives in the harbor it will transact immedi-
    ately, and a message will be shown over the land view without
    showing the harbor. But then the ship waits until the next
    turn to sail back.

  * When a wagon train arrives at a colony or loads/unloads
    stuff, a brief message appears in the top bar. Not sure yet
    if we want to replicate this.

  * Need to limit the number of wagon trains per colony as in the
    OG, or perhaps find another way to limit their number, e.g.
    by increasing the cost exponentially for each one built. Or,
    if the wagon train remains stationary for more than x number
    of turns, any goods in it will spoil (!!). With a bit of in-
    telligence in this algorithm, it could work to allow an arbi-
    trary number of wagon trains without the player being able to
    exploit them for additional storage. This may not work be-
    cause the player could just put the wagon trains on a trade
    route between two colonies, just moving back and forth.

    It is important to solve this because simply limiting the
    number of wagon trains to the number of colonies can be
    cheated by creating a large number of temporary population-1
    colonies and then building the wagon trains, then abandoning
    the colonies.

  * There is a strategy (described in the SG) whereby one can
    chain wagon train routes to move items within one turn a dis-
    tance much further than one wagon train can move. Doing this
    efficiently requires the player being able to set up wagon
    trains that move in a predictable order so that one can pick
    up where the prior one left off. Make sure this work.

  * Need a list of default name suffixes for trade routes.

Done:

  * Add the trade route data structure to ss.

  * Add T to unit flag rendering.

  * In the sav files a unit on a trade route keeps track of which
    trade route it is on and which stop it is headed to next in
    the `auxiliary_data` field.
