# vim: syntax=yaml
This document contains the remaining items still left to imple-
ment from these docs:

  * doc/native-muskets.txt
  * doc/native-horses.txt

Native Muskets
==============

Acquisition
-----------

  * Trade: there are two possible types of outcomes when muskets
    are sold to a tribe via trade, depending on whether the natives
    are asked to pay for them or whether they are gifted.

      Sold
      ----
      When muskets are sold to a dwelling they go into the
      tribe's "stock", which does not appear to have a limit.
      Note that the stock decreases at a rate of 2 per turn,
      though that is probably not relevant here.

      If, in a given sale, they purchase an amount >= 25, then,
      in addition to those muskets going into their stock as
      usual, the `muskets` military stockpile goes up by an
      amount:

        muskets += min( floor( amount_purchased / 25 ), 2 )

      Gifted
      ------
      Any amount of muskets given to the tribe causes muskets to
      go up by 1, and none go to their stock (even just 1 mus-
      ket). This seems to happen for both civilized and
      semi-nomadic tribes and on any difficulty level.

  * When muskets are demanded via reparations and the brave
    asking does not have muskets then it will immediately acquire
    muskets and the tribe's stockpile will remain the same. If
    the brave asking already has muskets then the muskets will be
    added to the tribe's stockpile. The amount demanded and/or
    received does not seem to affect the amount that the tribe
    actually takes; the tribe always seems to take one unit, i.e.
    arming one brave or increasing the stockpile by 1.

  * There does not seem to be any inter-tribe trading of muskets.
    The SG mentions it though, so it may be a bug that it is
    omitted, or perhaps we just don't know the mechanism. It does
    not seem to happen automatically when braves of two tribes
    come into contact as is done with horses.

Musket Loss
-----------

  * Dwellings have not been observed to sell muskets, so not sure
    what would happen if they did.

Native Horses
=============

Acquisition
-----------

  * Trade: there are two possible types of outcomes when horses
    are sold to a tribe via trade, depending on whether the na-
    tives are asked to pay for them or whether they are gifted.

      Sold
      ----
      When horses are sold to a dwelling they go into the tribe's
      "stock", which does not appear to have a limit. Note that
      the stock decreases at a rate of 2 per turn, though that is
      probably not relevant here.

      If, in a given sale, they purchase an amount >= 25, then,
      in addition to those horses going into their stock as
      usual, the `horse_herds` military stockpile goes up by an
      amount:

        horse_herds += min( floor( amount_purchased / 25 ), 2 )

      while the horse_breeding field also goes up by an amount
      equal to:

         horse_breeding += floor( traded_amount/4 )

      Gifted
      ------
      Any amount of horses given to the tribe causes horse_herds
      to go up by 1, and none go to their stock (even just 1
      horse).

  * Demanding horses as reparations (probably is a part of the
    usual demands of whatever commodities the colony has in
    stock). In this case horse_herds goes up by one. The brave
    also gets horses. horse_breeding may go up, but not sure.

  * Inter-tribe trade.

  * When horses are acquired by combat only horse_herds increases
    by 1 since the brave will take the horses, which is equiva-
    lent to 25 horse_breeding.

Inter-tribe Trade
-----------------

  * Happens via horse_herds, not horse_breeding.
  * Happens if and only if a brave from one tribe moves adjacent
    to a brave (or dwelling) from another tribe where at least
    one tribe has horse_herds > 0.
  * When a trade happens, both tribes end up with an amount of
    horse_herds equal to the maximum of the two values between
    the two tribes.
  * Since this happens iff braves meet, the question of how often
    it happens is equivalent to the question of when/how often
    braves meet. The answer seems to be that they never meet un-
    less they are forced to for some reason. The game must have
    some mechanism for preventing this. As part of implementing
    horse trading properly, we probably need to figure out how
    braves move.
