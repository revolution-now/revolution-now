# ===============================================================
# spread.rds
#
# Project: Revolution Now
#
# Created by David P. Sicilia on 2025-01-12.
#
# Description: Rds definitions for the spread module.
#
# ===============================================================
# config
include "config/tile-enum-fwd.hpp"

# gfx
include "gfx/cartesian.hpp"

# C++ standard library
include "<vector>"

namespace "rn"

# ---------------------------------------------------------------
# General.
# ---------------------------------------------------------------
struct.IconSpreadSpec {
  count 'int',
  width 'int',
}

struct.IconSpreadSpecs {
  bounds 'int',
  specs 'std::vector<IconSpreadSpec>',
  group_spacing 'int',
}

struct.IconSpread {
  count 'int',
  spacing 'int',
  width 'int',  # icon width from input.
}

struct.IconSpreads {
  spreads 'std::vector<IconSpread>',
  # This may not be the same as what was input, so this one
  # should always be used for rendering.
  group_spacing 'int',
}

# ---------------------------------------------------------------
# Spreads of tiles.
# ---------------------------------------------------------------
struct.TileSpread {
  icon_spread 'IconSpread',
  tile 'e_tile',
  opaque 'gfx::interval',
}

struct.TileSpreads {
  spreads 'std::vector<TileSpread>',
  group_spacing 'int',
}

struct.TileSpreadRenderPlan {
  tiles 'std::vector<std::pair<e_tile, gfx::point>>',
}
