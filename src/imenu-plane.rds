# ===============================================================
# imenu-plane.rds
#
# Project: Revolution Now
#
# Created by David P. Sicilia on 2024-12-15.
#
# Description: Rds definitions for the imenu-plane module.
#
# ===============================================================
# config
include "config/menu-item-fwd.hpp"

# gfx
include "gfx/cartesian.hpp"

# base
include "base/heap-value.hpp"
include "base/maybe.hpp"

# C++ standard library
include "<vector>"

namespace "rn"

struct.MenuPosition {
  where 'gfx::point',
  corner 'e_direction',
  # Which side of the this menu was the parent, if any.
  parent_side 'base::maybe<gfx::e_side>',
}

sumtype.MenuElement {
  leaf {
    item 'e_menu_item',
  },
  node {
    text 'std::string',
    menu 'base::heap_value<MenuContents>',
  },
}

struct.MenuItemGroup {
  elems 'std::vector<MenuElement>',
}

struct.MenuContents {
  groups 'std::vector<MenuItemGroup>',
}
