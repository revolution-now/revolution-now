# ===============================================================
# trade-route.rds
#
# Project: Revolution Now
#
# Created by David P. Sicilia on 2025-10-26.
#
# Description: Rds definitions for the trade-route module.
#
# ===============================================================
# ss
include "ss/trade-route.rds.hpp"

# C++ standard library
include "<string>"

namespace "rn"

struct.CreateTradeRoute {
  name 'std::string',
  type 'e_trade_route_type',
  player 'e_player',
  stop1 'TradeRouteTarget',
  stop2 'TradeRouteTarget',
}

# This is so that we don't have to depend on the unit orders def-
# inition which pulls in other dependences.
struct.TradeRouteOrdersConfirmed {
    id 'TradeRouteId',
    # This is not advanced until the unit has unloaded at its
    # current stop and is actually moving toward the next stop.
    en_route_to_stop 'int',
}

# We include the route names here just in case the route ends up
# getting deleted as a result of the sanitization. That way, we
# can tell the player the name of the route (which we wouldn't be
# able to do if it got deleted).
sumtype.TradeRouteSanitizationAction {
  colony_no_longer_exists {
    route_id 'TradeRouteId',
    route_name 'std::string',
  },
  colony_changed_player {
    colony_id 'ColonyId',
    route_name 'std::string',
  },
  no_harbor_post_declaration {
    route_name 'std::string',
  },
  empty_route {
    route_name 'std::string',
  },
  too_many_stops {
    route_id 'TradeRouteId',
    route_name 'std::string',
  },
}
