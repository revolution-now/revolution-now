# ===============================================================
# isignal.rds
#
# Project: Revolution Now
#
# Created by David P. Sicilia on 2025-06-28.
#
# Description: Rds definitions for the signal module.
#
# ===============================================================
# ss
include "ss/colony-id.hpp"
include "ss/commodity.rds.hpp"
include "ss/native-enums.rds.hpp"
include "ss/unit-id.hpp"
include "ss/unit-type.rds.hpp"

# gfx
include "gfx/cartesian.hpp"

# C++ standard library
include "<array>"

namespace "rn.signal"

struct.Foo {
  x 'int',
}

struct.Bar {
  y 'int',
}

struct.RefUnitAdded {}

struct.RebelSentimentChanged {
  old 'int',
  nu 'int',
}

struct.ColonyDestroyedByNatives {
  # This will be sent just before the destruction, thus the
  # colony will exist at that point for inspection.
  colony_id 'ColonyId',
}

struct.ColonyDestroyedByStarvation {
  # This will be sent just before the destruction, thus the
  # colony will exist at that point for inspection.
  colony_id 'ColonyId',
}

struct.ImmigrantArrived {
  type 'e_unit_type',
}

struct.ChooseImmigrant {
  msg 'std::string',
  types 'std::array<e_unit_type, 3>',
}

struct.NoSpotForShip {
  unit_id 'UnitId',
}

struct.TreasureArrived {}

struct.ShipFinishedRepairs {
  unit_id 'UnitId',
}

struct.PioneerExhaustedTools {
  unit_id 'UnitId',
}

struct.ForestClearedNearColony {
  unit_id 'UnitId',
  colony_id 'ColonyId',
}

struct.PriceChange {
  what 'e_commodity',
  from 'int',
  to 'int',
}

struct.TeaParty {
  what 'Commodity',
  colony_id 'ColonyId',
}

struct.TaxRateWillChange {
  delta 'int',
}

struct.TribeWipedOut {
  tribe 'e_tribe',
}
