# ===============================================================
# menu-impl.rds
#
# Project: Revolution Now
#
# Created by dsicilia on 2020-11-16.
#
# Description: Private RDS definitions for the menu module.
#
# ===============================================================
# Revolution Now
include "time.hpp"
include "maybe.hpp"
include "wait.hpp"

# config
include "config/menu-items.rds.hpp"

# C++ standard library
include "<string>"

namespace "rn"

sumtype.MenuClickAnimationPhase {
  off {},
  on {},
  fade {
    alpha 'double',
  },
}

sumtype.MenuState {
  menus_closed {
    hover 'maybe<e_menu>',
  },
  menu_open {
    menu 'e_menu',
    hover 'maybe<e_menu_item>',
  },
  item_click {
    item 'e_menu_item',
    phase 'MenuClickAnimationPhase',
    animation 'wait<>',
  },
}

sumtype.MouseOver {
  header {
    menu 'e_menu',
  },
  item {
    item 'e_menu_item',
  },
  divider {
    menu 'e_menu',
  },
  border {
    menu 'e_menu',
  },
  bar {},
}
