# ===============================================================
# colony-evolve.rds
#
# Project: Revolution Now
#
# Created by dsicilia on 2022-06-04.
#
# Description: Rds definitions for the colony-evolve module.
#
# ===============================================================
# Revolution Now
include "colony-notification.rds.hpp"
include "production.rds.hpp"

# ss
include "ss/colony-enums.rds.hpp"
include "ss/commodity.rds.hpp"

# base
include "base/maybe.hpp"

# C++ standard library
include "<string>"
include "<vector>"

namespace "rn"

struct.ColonyEvolution {
  # The list of notifications that will be presented to the user
  # in sequence for this colony. The messages presented to the
  # user are specified elsewhere. Each one will give the user the
  # ability to zoom into the colony screen if desired.
  notifications 'std::vector<ColonyNotification>',

  production 'ColonyProduction',

  # If the colony finished construction of a building (not a
  # unit) then this will contain the building that was added.
  # This is so that if the user opens the colony view in response
  # to the message it can animate the construction of the build-
  # ing.
  built 'base::maybe<e_colony_building>',

  # This happens when there is only one colonist in the colony
  # and there is not enough food to sustain that colonist (which
  # implies that the square on which the colony sits is not ca-
  # pable of producing two units of food) and the colonist
  # starves, removing the entire colony in the process.
  colony_disappeared 'bool',
}

struct.ColonyNotificationMessage {
  msg 'std::string',
  transient 'bool',
}
