# ===============================================================
# goto.rds
#
# Project: Revolution Now
#
# Created by David P. Sicilia on 2025-09-25.
#
# Description: Rds definitions for the goto module.
#
# ===============================================================
# ss
include "ss/colony-id.hpp"

# gfx
include "gfx/cartesian.hpp"

# C++ standard library
include "<vector>"

namespace "rn"

# Holds info about the path computation.
struct.GotoMeta {
  tiles_touched 'int',
  iterations 'int',
  queue_size_at_end 'int',
}

struct.GotoPath {
  meta 'GotoMeta',
  reverse_path 'std::vector<gfx::point>',
}

struct.GotoPort {
  europe 'bool',
  colonies 'std::vector<ColonyId>',
}

# Each turn a unit with goto orders either moves or clears their
# orders. There are multiple causes ways that both can happen,
# but those are the only options.
sumtype.EvolveGoto {
  abort {},
  move {
    to 'e_direction',
  },
}
